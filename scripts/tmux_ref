#!/usr/bin/env_bash

# tmux reference interactive script

echo "Welcome to the tmux reference script!"
echo "Press Ctrl+C to exit at any time."

while true; do
    echo ""
    PS3="Choose a tmux command (enter a number): "

    options=(
        "Create a new session"
        "List sessions"
        "Attach to a session"
        "Detach from the current session"
        "Split pane horizontally"
        "Split pane vertically"
        "Navigate between panes"
        "Close current pane"
        "Rename session"
        "Show session information"
        "Exit"
    )

    select opt in "${options[@]}"; do
        case $REPLY in
            1)
                read -p "Enter session name: " session_name
                tmux new-session -s "$session_name"
                break
                ;;
            2)
                tmux list-sessions
                break
                ;;
            3)
                read -p "Enter session name to attach: " session_name
                tmux attach -t "$session_name"
                break
                ;;
            4)
                tmux detach
                break
                ;;
            5)
                tmux split-window -h
                break
                ;;
            6)
                tmux split-window -v
                break
                ;;
            7)
                tmux select-pane -t :.+
                break
                ;;
            8)
                tmux kill-pane
                break
                ;;
            9)
                read -p "Enter new session name: " new_session_name
                tmux rename-session -t "$(tmux display-message -p '#S')" "$new_session_name"
                break
                ;;
            10)
                tmux display-message -p "#{session_name} (#{session_id}): #{session_windows} windows"
                break
                ;;
            11)
                echo "Exiting the tmux reference script. Goodbye!"
                exit 0
                ;;
            *)
                echo "Invalid choice. Please enter a valid number."
                ;;
        esac
    done
done
